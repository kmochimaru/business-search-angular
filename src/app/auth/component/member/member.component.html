<app-content>
  <article class="container">
    <h4 class="text-center">จัดการสมาชิก</h4>
    <section class="text-right">
      <button mat-fab matTooltip="เพิ่มหมวดหมู่ย่อย" matTooltipShowDelay="200" class="mb-3" color="primary" (click)="newMember()">
        <mat-icon>add</mat-icon>
      </button>
    </section>
    <section>
      <div class="table-container mat-elevation-z8">
        <div class="filter-header">
          <mat-form-field>
            <input matInput (keyup)="applyFilter($event.target.value)" placeholder="ค้นหา">
          </mat-form-field>
        </div>
        <mat-table #table [dataSource]="dataSource" matSort>
          <!-- Result Id Column -->
          <ng-container matColumnDef="id">
            <mat-header-cell *matHeaderCellDef mat-sort-header> Id </mat-header-cell>
            <mat-cell *matCellDef="let members" align="center"> {{ members.id}} </mat-cell>
          </ng-container>
          <!-- Result Name Column -->
          <ng-container matColumnDef="firstname">
            <mat-header-cell *matHeaderCellDef mat-sort-header> ชื่อ </mat-header-cell>
            <mat-cell *matCellDef="let members" align="center"> {{ members.firstname}} </mat-cell>
          </ng-container>
          <!-- Result Img Column -->
          <ng-container matColumnDef="lastname">
            <mat-header-cell *matHeaderCellDef mat-sort-header> นามสกุล </mat-header-cell>
            <mat-cell *matCellDef="let members"> {{ members.lastname }} </mat-cell>
          </ng-container>
          <!-- Result Img Column -->
          <ng-container matColumnDef="role">
            <mat-header-cell *matHeaderCellDef mat-sort-header> สิทธิ์ผู้ใช้ </mat-header-cell>
            <mat-cell *matCellDef="let members"> {{ members.role }} </mat-cell>
          </ng-container>
          <!-- Category Id Column -->
          <ng-container matColumnDef="email">
            <mat-header-cell *matHeaderCellDef mat-sort-header> อีเมล </mat-header-cell>
            <mat-cell *matCellDef="let members"> {{ members.email }} </mat-cell>
          </ng-container>
          <!-- Category Id Column -->
          <ng-container matColumnDef="updated_at">
            <mat-header-cell *matHeaderCellDef mat-sort-header> แก้ไขล่าสุด </mat-header-cell>
            <mat-cell *matCellDef="let members"> {{ members.updated_at }} </mat-cell>
          </ng-container>

          <!-- Edit/Delete Column -->
          <ng-container matColumnDef="manage">
            <mat-header-cell *matHeaderCellDef> จัดการ </mat-header-cell>
            <mat-cell *matCellDef="let members">
              <button mat-mini-fab (click)="updateMember(members)" matTooltip="แก้ไขสมาชิก" matTooltipShowDelay="200" class="color-warn">
                <mat-icon class="white-text icon-size">edit</mat-icon>
              </button>
              &nbsp;
              <button mat-mini-fab (click)="deleteMember(members.id) " matTooltip="ลบสมาชิก" matTooltipShowDelay="200" class="color-danger">
                <mat-icon class="white-text icon-size ">delete</mat-icon>
              </button>
            </mat-cell>
          </ng-container>

          <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
          <mat-row *matRowDef="let row; columns: displayedColumns;"></mat-row>
        </mat-table>

        <mat-paginator [length]="5" [pageSize]="5" [pageSizeOptions]="[5, 10, 25]"></mat-paginator>
      </div>
    </section>
  </article>
</app-content>
